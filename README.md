# AI Career Pathfinder

Персональный план карьерного развития на основе AI: анализ навыков, сравнение с целевой ролью и генерация плана развития в формате 70/20/10.

## Возможности

- **Загрузка резюме (PDF)** — извлечение навыков через GPT с маппингом на справочник
- **Ручной ввод навыков** — из скиллсета профессии или произвольный навык с подсказками (синонимы + RAG)
- **Три сценария:** переход на следующий грейд, смена профессии, исследование возможностей
- **RAG (Qdrant)** — объяснения разрывов, подсказки навыков, семантическое ранжирование ролей (при наличии Qdrant)
- **NLP:** стемминг (RU/EN) и слой синонимов для маппинга «свой навык» на канонический

## Запуск

```bash
cd /path/to/career-pathfinder
pip install -r requirements.txt
```

Для подсказок навыков и стемминга нужны данные NLTK (один раз):

```bash
python -c "import nltk; nltk.download('snowball_data')"
```

Опционально: построение RAG-индекса (при настроенном Qdrant):

```bash
python build_rag_index.py
```

Запуск интерфейса:

```bash
python main.py
# или
./run.sh
```

Откройте в браузере: `http://127.0.0.1:7860`

**Скачивание отчёта:** после построения плана доступна кнопка «Скачать отчёт (Markdown)».

**REST API** (для отдельного фронтенда):

```bash
uvicorn api:app --host 127.0.0.1 --port 8000
```

Эндпоинты: `GET /api/professions`, `GET /api/skills-for-role?profession=...`, `GET /api/suggest-skills?q=...`, `POST /api/analyze-resume` (PDF), `POST /api/plan` (JSON). Документация: `http://127.0.0.1:8000/docs`.

## Переменные окружения

Создайте файл `.env` в корне проекта:

| Переменная | Обязательно | Описание |
|------------|-------------|----------|
| `OPENAI_API_KEY` | Да (для PDF и плана 70/20/10) | Ключ OpenAI API |
| `QDRANT_URL` | Нет | URL Qdrant (RAG) |
| `QDRANT_API_KEY` | Нет | API-ключ Qdrant |

Без Qdrant приложение работает с ограничениями: нет семантических подсказок навыков и семантического ранжирования в сценарии «Исследование возможностей»; остальная логика (грейды, смена профессии, gap-анализ по справочникам) работает.

## Структура проекта

- `main.py` — интерфейс Gradio и оркестрация
- `data_loader.py` — загрузка справочников (навыки, атлас), требования по ролям/грейдам
- `resume_parser.py` — извлечение текста из PDF и парсинг навыков через OpenAI
- `skill_normalizer.py` — стемминг и словарь синонимов для маппинга навыков
- `rag_service.py` — RAG (Qdrant), подсказки, маппинг по эмбеддингам
- `scenario_handler.py` — сценарии: следующий грейд, смена профессии, исследование
- `gap_analyzer.py` — анализ разрывов (атлас + навыки)
- `output_formatter.py` — форматирование результата и вызов генератора плана 70/20/10
- `plan_generator.py` — генерация плана развития через LLM
- `data/` — `clean_skills.json`, `atlas_params_clean.json`, `skill_synonyms.json`

Подробнее: [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md).

## Тесты

```bash
pytest tests/ -v
```

## Лицензия

Проект для учебных целей.
